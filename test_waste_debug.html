<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Waste Debug Test</title>
    <style>
        body { 
            font-family: monospace; 
            padding: 20px; 
            background: #1a1a1a; 
            color: #0f0; 
        }
        .info { 
            background: #000; 
            padding: 15px; 
            border: 1px solid #0f0; 
            margin: 10px 0; 
            border-radius: 5px;
        }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover { background: #0c0; }
        pre { 
            background: #111; 
            padding: 10px; 
            overflow-x: auto;
            border-left: 3px solid #0f0;
        }
    </style>
</head>
<body>
    <h1>ğŸ› Waste Group Debug Test</h1>
    
    <div class="info">
        <h2>Debug AdÄ±mlarÄ±:</h2>
        <ol>
            <li>Solitaire'i aÃ§ ve Console'u aÃ§ (F12)</li>
            <li>Stock'a tÄ±kla (3 kart Ã§ekilecek)</li>
            <li>Console'da: <code>Rendering waste: X total cards, showing Y cards</code></li>
            <li>Waste'ten bir kart al</li>
            <li>Console'da: <code>Waste card taken. New wasteGroupSize: Z</code></li>
            <li>Render sonrasÄ± tekrar kontrol et</li>
        </ol>
    </div>
    
    <div class="info">
        <h2>Beklenen DavranÄ±ÅŸ:</h2>
        <pre>
1. Stock'tan 3 kart Ã§ek:
   - wasteGroupSize = 3
   - Rendering waste: 3 total cards, showing 3 cards

2. Bir kart al:
   - Waste card taken. New wasteGroupSize: 2
   - Rendering waste: 2 total cards, showing 2 cards

3. Tekrar bir kart al:
   - Waste card taken. New wasteGroupSize: 1
   - Rendering waste: 1 total cards, showing 1 cards
        </pre>
    </div>
    
    <div class="info">
        <h2>OlasÄ± Sorunlar:</h2>
        <ul>
            <li>âŒ wasteGroupSize undefined/null olarak resetleniyor</li>
            <li>âŒ Render'da wasteGroupSize yeniden 3'e set ediliyor</li>
            <li>âŒ Drag/drop'ta wasteGroupSize gÃ¼ncellenmiyor</li>
        </ul>
    </div>
    
    <div class="info">
        <h2>Console KomutlarÄ±:</h2>
        <pre>
// Mevcut durumu kontrol et:
game.wasteGroupSize

// Manuel test:
game.wasteGroupSize = 2
render()

// Waste durumu:
game.waste.length
        </pre>
    </div>
    
    <button onclick="window.open('http://localhost:8000/solitaire/', '_blank')">
        ğŸ® Solitaire'i AÃ§
    </button>
    
    <button onclick="showFix()">
        ğŸ’¡ Ã‡Ã¶zÃ¼m Ã–nerisi
    </button>
    
    <script>
        function showFix() {
            alert(`
SORUN ANALÄ°ZÄ°:

1. wasteGroupSize === undefined kontrolÃ¼
   0 deÄŸerini de undefined olarak gÃ¶rÃ¼yor olabilir

2. !game.wasteGroupSize yerine
   game.wasteGroupSize === undefined kullan

3. Drag end'de wasteGroupSize'Ä± kontrol et

4. Save/load'da wasteGroupSize korunuyor mu?

Ã‡Ã–ZÃœM:
- Strict equality kullan (===)
- Console log'larÄ± takip et
- wasteGroupSize'Ä±n nerede deÄŸiÅŸtiÄŸini bul
            `);
        }
    </script>
</body>
</html>