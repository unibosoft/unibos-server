{% extends "administration/base_admin.html" %}

{% block title %}system settings - unibos administration{% endblock %}

{% block admin_content %}
<div class="module-container">
    <div class="module-header">
        <h1>system settings</h1>
        <p>configure system-wide parameters and preferences</p>
    </div>

    <!-- Admin Navigation -->
    <div class="admin-nav">
        <a href="{% url 'administration:dashboard' %}" class="admin-nav-item">
            <span class="nav-icon">ğŸ“Š</span>
            <span>dashboard</span>
        </a>
        <a href="{% url 'administration:users' %}" class="admin-nav-item">
            <span class="nav-icon">ğŸ‘¥</span>
            <span>users</span>
        </a>
        <a href="{% url 'administration:audit_logs' %}" class="admin-nav-item">
            <span class="nav-icon">ğŸ“œ</span>
            <span>audit logs</span>
        </a>
        <a href="{% url 'administration:system_settings' %}" class="admin-nav-item active">
            <span class="nav-icon">âš™ï¸</span>
            <span>settings</span>
        </a>
    </div>

    <!-- Settings List -->
    <div class="content-box">
        <div class="section">
            <h2>configuration</h2>
            <div class="settings-list">
                {% for setting in settings %}
                <div class="setting-item">
                    <div class="setting-header">
                        <strong>{{ setting.key }}</strong>
                        <span class="text-muted">{{ setting.description }}</span>
                    </div>
                    <div class="setting-value">
                        <code>{{ setting.value }}</code>
                    </div>
                    <div class="setting-meta">
                        last updated: {{ setting.updated_at|date:"Y-m-d H:i" }}
                    </div>
                </div>
                {% empty %}
                <p class="text-center">no settings configured</p>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Add New Setting -->
    <div class="content-box">
        <div class="section">
            <h2>add new setting</h2>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label>key:</label>
                    <input type="text" name="key" class="form-input" required>
                </div>
                <div class="form-group">
                    <label>value:</label>
                    <textarea name="value" class="form-input" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>description:</label>
                    <input type="text" name="description" class="form-input">
                </div>
                <button type="submit" class="btn btn-primary">save setting</button>
            </form>
        </div>
    </div>
</div>

<style>
.settings-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.setting-item {
    padding: 15px;
    background: var(--bg-dark);
    border: 1px solid var(--dark-gray);
    border-radius: 5px;
}

.setting-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.setting-value {
    padding: 10px;
    background: var(--bg-black);
    border: 1px solid var(--dark-gray);
    border-radius: 3px;
    margin-bottom: 10px;
}

.setting-meta {
    font-size: 11px;
    color: var(--gray);
}
</style>
{% endblock %}